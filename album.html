<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>Фото</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header><h1 id="title"></h1></header>

  <main>
    <div id="grid" class="photo-grid"></div>
  </main>

  <div id="lightbox"><img src=""></div>

  <script type="module">
    import { photosByYear } from "./photos.js";

    const params = new URLSearchParams(location.search);
    const year = params.get("year");
    const album = params.get("album");

    document.getElementById("title").textContent = `${album} (${year})`;

    const grid = document.getElementById("grid");
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = lightbox.querySelector("img");

    photosByYear[year][album].forEach(file => {
      const figure = document.createElement("figure");
      const img = document.createElement("img");
      img.src = `images/${year}/${album}/${file}`;
      img.alt = file;

      img.addEventListener("click", () => {
        lightboxImg.src = img.src;
        lightbox.style.display = "flex";
      });

      figure.appendChild(img);
      grid.appendChild(figure);
    });

    lightbox.addEventListener("click", () => lightbox.style.display = "none");
  </script>
</body>
</html>
